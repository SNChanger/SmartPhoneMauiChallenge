#このプロジェクトについて

Spajamでみんながスマホアプリを進めていたからやってみたよ。

## 技術構成

### 開発環境

VisualStudio2022対応

### 各ページの作成

.Net MAUIのテンプレートファイルを使って作成

### 資料作成時の参考資料

https://github.blog/2022-02-14-include-diagrams-markdown-files-mermaid/

### メニュー画面の最終的な遷移(ReleasePlan LastFlow)
```mermaid
flowchart LR
    subgraph App
        subgraph Menu
           userMemoTab -->userMemoDetail
           itemListTab -->itemList
           facilitySearchTab -->facilitySearchDisplay
           medicinedinputFormTab --> medicinedinputForm
        end
    end
User --> App --> Display
```
#### 各画面の実装予定内容
##### 過去の受診内容一覧
##### 画面側概要
入力画面で保存した内容の受診履歴一覧を表示する
受診履歴をクリックすることで詳細画面へ遷移する
##### データ遷移
```mermaid
sequenceDiagram
    participant イベント元プログラム
    participant お薬一覧取得
    participant 保存先
    イベント元プログラム->>お薬一覧取得: 指定したアカウントの受診結果一覧取得を呼び出し
    お薬一覧取得->>保存先: 指定したアカウントの受診結果一覧取得命令を実行
    保存先->>お薬一覧取得: 指定したアカウントの受診結果一覧取得命令の実行結果を返却
    お薬一覧取得->>イベント元プログラム: 指定したアカウントの受診結果一覧取得結果を返却
    loop １ページに表示するデータ分
    イベント元プログラム->>イベント元プログラム: 取得した一覧について、XAML側に反映する
    end
```
##### 建物検索画面
##### 画面側概要
指定した条件で、お薬をもらえる画面
表示された建物情報をクリックすることで詳細画面へ遷移する
##### データ遷移
```mermaid
sequenceDiagram
    participant イベント元プログラム
    participant 建物概要一覧
    participant 保存先
    イベント元プログラム->>イベント元プログラム: 欲しい処方箋の内容に合わせた、検索条件を入力する
    イベント元プログラム->>建物概要一覧取得: 建物概要一覧取得を呼び出し
    建物概要一覧取得->>保存先: 建物概要一覧取得命令を実行
    保存先->>建物概要一覧取得: 建物概要一覧取得命令を実行結果を返却
    建物概要一覧取得->>イベント元プログラム: 検索結果に応じた画面内容を返却する
    loop １ページに表示するデータ分
    イベント元プログラム->>イベント元プログラム: 取得した建物情報について、XAML側に反映する
    end
```


##### 受診結果入力画面
##### 画面側概要
受診した時の内容を入力する
###### 入力項目
表示された建物情報をクリックすることで詳細画面へ遷移する

   薬局名(〇〇支店名)
   医療機関名(△△大学病院)
   お名前(購入時の名前　代理人とか本人の名前とか)
   生年月日(対象者の誕生日 アカウントページができたら移動予定)


##### データ遷移
```mermaid
sequenceDiagram
    participant イベント元プログラム
    participant 受診内容保存
    participant 保存先(受診結果保存DB)
    イベント元プログラム->>イベント元プログラム: 受診したときの入力内容を反映する
    イベント元プログラム->>受診内容保存: 受診したときの内容を引数に、受診内容保存を呼び出し 
    受診内容保存->>保存先: 受診結果保存DBへの反映処理を実行
    保存先->>受診内容保存: 受診内容保存を実行結果を返却
    受診内容保存->>イベント元プログラム: 入力内容の保存結果を返却
    イベント元プログラム->>イベント元プログラム: 保存実行結果を画面のダイアログに反映する
```









